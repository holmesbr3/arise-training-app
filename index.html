<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arise: Treinamento de Hunter</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <div id="app-container">
        <div class="bg-animation"></div>

        <header id="main-header">
            <h1><i class="fas fa-terminal"></i> SISTEMA</h1>
            <div id="player-stats">
                <span id="player-name">Hunter</span> | Nível <span id="player-level">1</span> | Rank <span id="player-rank">E</span>
                <div class="stat-bar">
                    <div class="bar-label"><i class="fas fa-star"></i> XP</div>
                    <div class="bar-container"><div id="xp-bar" class="bar-fill"></div></div>
                    <span id="xp-text">0 / 100</span>
                </div>
                <div class="stat-bar">
                    <div class="bar-label"><i class="fas fa-gem"></i> Arks</div>
                    <div class="bar-container"><div id="arks-bar" class="bar-fill"></div></div>
                    <span id="arks-text">0</span>
                </div>
                <div class="stat-bar">
                    <div class="bar-label"><i class="fas fa-skull"></i> Frag. Sombra</div>
                    <div class="bar-container"><div id="fragments-bar" class="bar-fill"></div></div>
                    <span id="fragments-text">0 / 10</span>
                </div>
            </div>
            <div class="rank-progress-container">
                <svg class="rank-progress-ring" width="80" height="80">
                    <circle class="rank-progress-ring-bg" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                    <circle id="rank-progress-ring-fill" class="rank-progress-ring-fill" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                </svg>
                <div class="rank-progress-text"><span id="rank-percent">0%</span></div>
            </div>
        </header>

        <nav id="main-nav">
            <button class="nav-btn" onclick="showScreen('dashboard-screen')"><i class="fas fa-home"></i> <span class="nav-text">Painel</span></button>
            <button class="nav-btn" onclick="showScreen('missions-screen')"><i class="fas fa-scroll"></i> <span class="nav-text">Missões</span></button>
            <button class="nav-btn" onclick="showScreen('gates-screen')"><i class="fas fa-door-open"></i> <span class="nav-text">Portões</span></button>
            <button class="nav-btn" onclick="showScreen('profile-screen')"><i class="fas fa-user-ninja"></i> <span class="nav-text">Hunter</span></button>
        </nav>

        <main id="main-content">
            <!-- Dashboard Screen -->
            <div id="dashboard-screen" class="screen active">
                <h2>Painel do Hunter</h2>
                <!-- NOVO: Card do Desafio Semanal -->
                <div id="weekly-challenge-card" class="card weekly-challenge">
                    <h3><i class="fas fa-calendar-week"></i> Desafio Semanal</h3>
                    <p id="weekly-challenge-description">Carregando desafio...</p>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="weekly-challenge-progress"></div>
                    </div>
                    <p id="weekly-challenge-progress-text">0 / 0</p>
                    <button id="claim-weekly-reward" class="btn-reward" onclick="claimWeeklyReward()" style="display:none;">
                        <i class="fas fa-gift"></i> Reivindicar Recompensa Semanal
                    </button>
                </div>
                <div class="dashboard-grid">
                    <div class="card">
                        <h3><i class="fas fa-chart-line"></i> Resumo Diário</h3>
                        <p>Missões: <span id="daily-mission-count">0</span> / <span id="total-mission-count">0</span></p>
                        <p>Portões: <span id="daily-gate-count">0</span></p>
                    </div>
                    <div class="card log-card">
                        <h3><i class="fas fa-terminal"></i> Log do Sistema</h3>
                        <div id="system-log"></div>
                    </div>
                </div>
            </div>

            <!-- Missions Screen -->
            <div id="missions-screen" class="screen">
                <h2><i class="fas fa-scroll"></i> Missões Diárias</h2>
                <div id="mission-list"></div>
                <button id="claim-daily-reward" class="btn-reward" onclick="claimDailyReward()" style="display:none;">
                    <i class="fas fa-trophy"></i> Reivindicar Recompensa Diária Completa
                </button>
            </div>

            <!-- Gates Screen -->
            <div id="gates-screen" class="screen">
                <h2><i class="fas fa-door-open"></i> Portões Disponíveis</h2>
                <div id="gate-list"></div>
            </div>

            <!-- Profile Screen -->
            <div id="profile-screen" class="screen">
                <h2><i class="fas fa-user-ninja"></i> Perfil do Hunter</h2>
                <div class="profile-grid">
                    <!-- NOVO: Card de Gerenciamento de Sombras -->
                    <div class="card profile-section">
                        <h3><i class="fas fa-skull-crossbones"></i> Comandante de Sombras</h3>
                        <p>Sombra Equipada: <strong id="equipped-shadow-name">Nenhuma</strong></p>
                        <p id="equipped-shadow-bonus">Escolha uma sombra para receber seu bônus.</p>
                        <div id="shadow-army-list" class="collection-grid"></div>
                    </div>
                    <div class="card profile-section">
                        <h3><i class="fas fa-sword"></i> Equipamento</h3>
                        <p>Arma: <span id="equipped-weapon">Nenhuma</span></p>
                        <p>Habilidade: <span id="equipped-skill">Nenhuma</span></p>
                        <button class="btn-shop" onclick="showScreen('shop-screen')"><i class="fas fa-store"></i> Ir para a Loja</button>
                    </div>
                </div>
            </div>
            
            <!-- Shop Screen -->
            <div id="shop-screen" class="screen">
                 <h2><i class="fas fa-store"></i> Loja do Sistema</h2>
                 <div id="shop-items"></div>
            </div>

            <!-- Active Gate Screen -->
            <div id="gate-active-screen" class="screen">
                <h2>Dentro do Portão: <span id="active-gate-name"></span></h2>
                <div class="card">
                    <p id="active-gate-description"></p>
                    <div class="gate-timer">
                        <i class="fas fa-clock"></i> Tempo: <span id="gate-timer">00:00</span>
                    </div>
                </div>
                <button class="btn-danger" onclick="completeActiveGate()">
                    <i class="fas fa-flag-checkered"></i> Concluir e Limpar Portão
                </button>
            </div>
        </main>
    </div>

    <!-- Awakening Onboarding Screen -->
    <div id="awakening-overlay">
        <div class="awakening-content">
            <h1>[SISTEMA]</h1>
            <div id="awakening-text"></div>
            <button id="awakening-continue-btn" onclick="nextAwakeningStep()">Continuar</button>
        </div>
    </div>

    <!-- Epic Celebration Screen -->
    <div id="celebration-overlay">
        <div class="celebration-content">
            <h1 id="celebration-title"></h1>
            <p id="celebration-message"></p>
            <div id="celebration-rank-up" style="display: none;">
                <p>Seu novo Rank é:</p>
                <h2 id="new-rank-display"></h2>
            </div>
            <button id="celebration-continue-btn" onclick="hideCelebration()">Continuar</button>
        </div>
    </div>

    <!-- Modal Container -->
    <div id="modal-container" class="modal-container">
        <div class="modal-content">
            <span class="close-btn" onclick="hideModal()">&times;</span>
            <h2 id="modal-title"></h2>
            <p id="modal-body"></p>
            <div id="modal-footer"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
